<main>
	<div class="container flex w-full">
		<app-site-menu [ngClass]="{'showContainer': globalVariables.showMenu}" (mobileClickedChat)="openChat()" (mobileClickedDirectChat)="openDirectChat()"></app-site-menu>
		@if (!globalVariables.showDirectChat) {
			<app-chat [ngClass]="{'showContainer': globalVariables.showChat, 'full-width': !globalVariables.showThreads, 'hide-on-small': globalVariables.showThreads}" (mobileClickedThread)="openThread()" (currentMessage)="message_for_thread($event)"></app-chat>
		} @else {
			<app-directmessages-chat [ngClass]="{'showContainer': globalVariables.showDirectChat, 'full-width': !globalVariables.showThreads, 'hide-on-small': globalVariables.showThreads}"></app-directmessages-chat>
		}
    @if (globalVariables.showThreads) {
      <app-thread-reply [ngClass]="{'showContainer': globalVariables.showThreads}" [messageToReplyTo]="currentMessage"></app-thread-reply>
    }
	</div>

  @if (globalVariables.verifyText) {
    <div class="overlay w-full h-full">
      <div class="overlay-button">
        <p>Bitte schaue in dein Postfach und verifiziere deine Email!</p>
      </div>
    </div>
    }
</main>
