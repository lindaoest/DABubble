<div class="chat">

  <!-- Header -->
  <app-top-bar-container>
    <app-top-bar-direct-message class="flex" />
  </app-top-bar-container>

  <!-- Chat block -->
  <div class="chat-block flex flex-column">
    @for (group of (this.firestoreService.groupedDirectMessages | keyvalue); track $index) {
      @if (isRelevantGroup(group.key)) {
        @for (dateGroup of (group.value | keyvalue); track $index) {

          <!-- Messages -->
          <app-date-block-message
            [dateGroup]="dateGroup"
            [isDirectMessage]="true" />
        }
      }
    }
  </div>
  <app-writing-box [sendMessage]="'direct_message'" [activeMember]="activeMember" />
</div>
